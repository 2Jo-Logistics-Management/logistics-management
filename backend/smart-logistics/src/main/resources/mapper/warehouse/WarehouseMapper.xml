<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.douzon.smartlogistics.domain.warehouse.dao.mapper.WarehouseMapper">
    <insert id="insertWarehouse">
        INSERT INTO WAREHOUSE(SECTION_NO, RECEIVE_CODE, RECEIVE_ITEM_NO, ITEM_CODE, COUNT, REGIST_DATE, CREATE_IP, CREATE_ID)
        VALUES
            (#{warehouseSectionNo},#{receiveCode},#{receiveItemNo},#{itemCode},#{receiveCount},CURRENT_TIMESTAMP,#{createIp},#{createId});
    </insert>
    <update id="modifyWarehouse">
        UPDATE WAREHOUSE
        SET SECTION_NO = #{receiveItemDto.warehouseSectionNo},
            COUNT = #{receiveItemDto.receiveCount},
            REGIST_DATE = CURRENT_TIMESTAMP,
            MODIFY_DATE = CURRENT_TIMESTAMP,
            MODIFY_IP = #{receiveItemDto.modifyIp},
            MODIFY_ID = #{receiveItemDto.modifyId}
        WHERE RECEIVE_ITEM_NO = #{receiveItemNo}
    </update>
</mapper>